#!/usr/bin/env python3

import subprocess

interface = input("interface: ")
new_mac = input("new MAC: ")

print("[+] Changing MAC address for " + interface + " to " + new_mac)

# this way is easier to write with shell=true but you can easily inject code into it
# subprocess.call("ip link set dev " + interface + " down ", shell=True)
# subprocess.call("ip link set dev " + interface + " address " + new_mac, shell=True)
# subprocess.call("ip link set dev " + interface + " up ", shell=True)
# subprocess.call("ip -c a", shell=True)

subprocess.call(["ip", "link", "set", "dev", interface, "down"])
subprocess.call(["ip", "link", "set", "dev", interface, "address", new_mac])
subprocess.call(["ip", "link", "set", "dev", interface, "up"])
